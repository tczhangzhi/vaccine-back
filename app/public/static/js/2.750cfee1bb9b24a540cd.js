webpackJsonp([2],{Jht4:function(e,t){},xbg2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("A9zj"),a=i.n(l),n=i("4YfN"),r=i.n(n),c=i("7/Cp"),s={name:"i-inoculation",mounted:function(){this.fetch()},data:function(){return{pageIndex:1,pageSize:20,total:0,query:{start:"",end:"",configId:"",childId:"",childName:""},showCreate:!1,showEdit:!1,create:this.init(),edit:this.init(),createRule:{start:[{required:!0,message:"请输入最早接种时间",trigger:"blur"}],end:[{required:!0,message:"请输入最晚接种时间",trigger:"blur"}],configId:[{required:!0,message:"请输入疫苗种类",trigger:"blur"}],childId:[{required:!0,message:"请输入儿童姓名",trigger:"blur"}]},editRule:{start:[{required:!0,message:"请输入最早接种时间",trigger:"blur"}],end:[{required:!0,message:"请输入最晚接种时间",trigger:"blur"}],configId:[{required:!0,message:"请输入疫苗种类",trigger:"blur"}],childId:[{required:!0,message:"请输入儿童姓名",trigger:"blur"}]},tableData:[],childList:[],configList:[]}},methods:{fetch:function(){var e=this,t=this.pageIndex,i=this.pageSize,l=this.query;c.b.vaccine.index(r()({pageIndex:t,pageSize:i},l)).then(function(t){e.tableData=t.list,e.total=t.total}).catch(function(t){e.$message({message:t,type:"error"})})},handleSearchClick:function(){this.fetch()},handleSizeChange:function(e){this.pageSize=e,this.fetch()},handleCurrentChange:function(e){this.pageIndex=e,this.fetch()},handleDeleteClick:function(e){var t=this;c.b.vaccine.destroy(e).then(function(e){t.fetch(),t.$message({message:"删除成功!",type:"success"})}).catch(function(e){t.$message({message:e,type:"error"})})},init:function(){return{id:"",configId:0,time:0,decision:"[0, 0, 0, 0]",childId:""}},handleCreateClick:function(){this.showCreate=!0,this.create=this.init()},handleEditClick:function(e){var t=this;this.showEdit=!0,this.edit=this.init(),c.b.vaccine.show(e).then(function(e){t.edit=e}).catch(function(e){t.$message({message:e,type:"error"})})},handleSaveEditClick:function(){var e=this;this.$refs.edit.validate(function(t){if(!t)return!1;var i=e.edit,l=(i.times,a()(i,["times"]));c.b.vaccine.update(l).then(function(t){e.showEdit=!1,e.edit=e.init(),e.fetch(),e.$message({message:"修改成功!",type:"success"})}).catch(function(t){e.$message({message:t,type:"error"})})})},handleSaveCreateClick:function(){var e=this;this.$refs.create.validate(function(t){if(!t)return!1;var i=e.create,l=(i.times,a()(i,["times"]));c.b.vaccine.create(l).then(function(t){e.showCreate=!1,e.create=e.init(),e.fetch(),e.$message({message:"新增成功!",type:"success"})}).catch(function(t){e.$message({message:t,type:"error"})})})},fetchChildList:function(e){var t=this;c.b.child.list({name:e}).then(function(e){t.childList=e}).catch(function(e){t.$message({message:e,type:"error"})})},fetchConfigList:function(e){var t=this;c.b.config.list({id:e}).then(function(e){t.configList=e}).catch(function(e){t.$message({message:e,type:"error"})})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"i-inoculation"},[i("el-row",[i("el-form",{attrs:{inline:""}},[i("el-form-item",{attrs:{label:"最早接种时间:"}},[i("el-input",{attrs:{placeholder:"请输入注射剂次"},model:{value:e.query.time,callback:function(t){e.$set(e.query,"time",e._n(t))},expression:"query.time"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"疫苗种类:"}},[i("el-input",{attrs:{placeholder:"请输入疫苗种类"},model:{value:e.query.configId,callback:function(t){e.$set(e.query,"configId",e._n(t))},expression:"query.configId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"儿童编号:"}},[i("el-input",{attrs:{placeholder:"请输入疫苗种类"},model:{value:e.query.childId,callback:function(t){e.$set(e.query,"childId",e._n(t))},expression:"query.childId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"儿童姓名:"}},[i("el-input",{attrs:{placeholder:"请输入儿童姓名"},model:{value:e.query.childName,callback:function(t){e.$set(e.query,"childName",t)},expression:"query.childName"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSearchClick}},[e._v("查询")]),e._v(" "),i("el-button",{on:{click:e.handleCreateClick}},[e._v("新增")])],1)],1)],1),e._v(" "),i("el-row",[i("el-table",{attrs:{data:e.tableData,border:""}},[i("el-table-column",{attrs:{label:"编号",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"即将注射剂次",prop:"time"}}),e._v(" "),i("el-table-column",{attrs:{label:"上一次决策",prop:"decision"}}),e._v(" "),i("el-table-column",{attrs:{label:"疫苗种类",prop:"configId"}}),e._v(" "),i("el-table-column",{attrs:{label:"儿童姓名",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"125"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(i){e.handleEditClick(t.row)}}}),e._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(i){e.handleDeleteClick(t.row)}}})]}}])})],1)],1),e._v(" "),i("el-row",{staticClass:"i-inoculation__pageination"},[i("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"新增",visible:e.showCreate},on:{"update:visible":function(t){e.showCreate=t}}},[i("el-form",{ref:"create",attrs:{model:e.create,rules:e.createRule}},[i("el-form-item",{attrs:{label:"即将注射剂次:"}},[i("el-input",{attrs:{placeholder:"请输入即将注射剂次"},model:{value:e.create.time,callback:function(t){e.$set(e.create,"time",e._n(t))},expression:"create.time"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上一次决策:"}},[i("el-input",{attrs:{placeholder:"请输入上一次决策"},model:{value:e.create.decision,callback:function(t){e.$set(e.create,"decision",t)},expression:"create.decision"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"疫苗种类:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入疫苗种类",filterable:"",remote:"","remote-method":e.fetchConfigList},model:{value:e.create.configId,callback:function(t){e.$set(e.create,"configId",e._n(t))},expression:"create.configId"}},e._l(e.configList,function(e){return i("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"儿童姓名及编号:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入儿童姓名",filterable:"",remote:"","remote-method":e.fetchChildList},model:{value:e.create.childId,callback:function(t){e.$set(e.create,"childId",e._n(t))},expression:"create.childId"}},e._l(e.childList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name+"-"+e.id,value:e.id}})}))],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveCreateClick}},[e._v("保存")])],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"修改",visible:e.showEdit},on:{"update:visible":function(t){e.showEdit=t}}},[i("el-form",{ref:"edit",attrs:{model:e.edit,rules:e.editRule}},[i("el-form-item",{attrs:{label:"编号:"}},[i("el-input",{attrs:{readonly:""},model:{value:e.edit.id,callback:function(t){e.$set(e.edit,"id",t)},expression:"edit.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"即将注射剂次:"}},[i("el-input",{attrs:{placeholder:"请输入即将注射剂次"},model:{value:e.edit.time,callback:function(t){e.$set(e.edit,"time",e._n(t))},expression:"edit.time"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上一次决策:"}},[i("el-input",{attrs:{placeholder:"请输入上一次决策"},model:{value:e.edit.decision,callback:function(t){e.$set(e.edit,"decision",t)},expression:"edit.decision"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"疫苗种类:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入疫苗种类",filterable:"",remote:"","remote-method":e.fetchConfigList},model:{value:e.edit.configId,callback:function(t){e.$set(e.edit,"configId",e._n(t))},expression:"edit.configId"}},e._l(e.configList,function(e){return i("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"儿童姓名及编号:"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入儿童姓名",filterable:"",remote:"","remote-method":e.fetchChildList},model:{value:e.edit.childId,callback:function(t){e.$set(e.edit,"childId",e._n(t))},expression:"edit.childId"}},e._l(e.childList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name+"-"+e.id,value:e.id}})}))],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveEditClick}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var d=i("vSla")(s,o,!1,function(e){i("Jht4")},null,null);t.default=d.exports}});
//# sourceMappingURL=2.750cfee1bb9b24a540cd.js.map
webpackJsonp([4],{FmgW:function(e,t){},vsVt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=a.n(n),l=a("7/Cp"),r={name:"i-child",mounted:function(){this.fetch()},data:function(){return{pageIndex:1,pageSize:20,total:0,query:{name:"",days:""},showCreate:!1,showEdit:!1,create:this.init(),edit:this.init(),createRule:{days:[{type:"number",message:"年龄应当为数字",trigger:"blur"}]},editRule:{days:[{type:"number",message:"年龄应当为数字",trigger:"blur"},{required:!0,message:"请输入年龄",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},tableData:[]}},methods:{fetch:function(){var e=this,t=this.pageIndex,a=this.pageSize,n=this.query;l.b.child.index(i()({pageIndex:t,pageSize:a},n)).then(function(t){e.tableData=t.list,e.total=t.total}).catch(function(t){e.$message({message:t,type:"error"})})},handleCreateDataClick:function(){var e=this;l.b.child.download({days:40}).then(function(t){e.$message({message:"下载成功!",type:"success"})}).catch(function(t){e.$message({message:t,type:"error"})})},handleSearchClick:function(){this.fetch()},handleSizeChange:function(e){this.pageSize=e,this.fetch()},handleCurrentChange:function(e){this.pageIndex=e,this.fetch()},handleDeleteClick:function(e){var t=this;l.b.child.destroy(e).then(function(e){t.fetch(),t.$message({message:"删除成功!",type:"success"})}).catch(function(e){t.$message({message:e,type:"error"})})},init:function(){return{id:"",name:"",days:0}},handleCreateClick:function(){this.showCreate=!0,this.create=this.init()},handleEditClick:function(e){var t=this;this.showEdit=!0,this.edit=this.init(),l.b.child.show(e).then(function(e){t.edit=e}).catch(function(e){t.$message({message:e,type:"error"})})},handleSaveEditClick:function(){var e=this;this.$refs.edit.validate(function(t){if(!t)return!1;l.b.child.update(e.edit).then(function(t){e.showEdit=!1,e.edit=e.init(),e.fetch(),e.$message({message:"修改成功!",type:"success"})}).catch(function(t){e.$message({message:t,type:"error"})})})},handleSaveCreateClick:function(){var e=this;this.$refs.create.validate(function(t){if(!t)return!1;l.b.child.create(e.create).then(function(t){e.showCreate=!1,e.create=e.init(),e.fetch(),e.$message({message:"新增成功!",type:"success"})}).catch(function(t){e.$message({message:t,type:"error"})})})},handleCreateRandomClick:function(){var e=this;this.$prompt("请输入随机数量：","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[1-9]\d*$/,inputErrorMessage:"随机数量不正确！"}).then(function(t){var a=t.value;l.b.child.random({n:a}).then(function(t){e.fetch()}).catch(function(t){e.$message({message:t,type:"error"})})}).catch(function(){e.$message({type:"info",message:"您取消了生成!"})})},handleCreateInitClick:function(){var e=this;l.b.child.init().then(function(t){e.fetch()}).catch(function(t){e.$message({message:t,type:"error"})})},handleCleanClick:function(){var e=this;l.b.child.clean().then(function(t){e.fetch()}).catch(function(t){e.$message({message:t,type:"error"})})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"i-child"},[a("el-row",[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.query.days,callback:function(t){e.$set(e.query,"days",t)},expression:"query.days"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearchClick}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:e.handleCreateClick}},[e._v("新增")]),e._v(" "),a("el-button",{on:{click:e.handleCreateRandomClick}},[e._v("随机一个")]),e._v(" "),a("el-button",{on:{click:e.handleCreateInitClick}},[e._v("初始化一个")]),e._v(" "),a("el-button",{on:{click:e.handleCreateDataClick}},[e._v("下载数据")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.handleCleanClick}},[e._v("清空数据库")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"编号",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"年龄",prop:"days"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"125"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){e.handleEditClick(t.row)}}}),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(a){e.handleDeleteClick(t.row)}}})]}}])})],1)],1),e._v(" "),a("el-row",{staticClass:"i-child__pageination"},[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.showCreate},on:{"update:visible":function(t){e.showCreate=t}}},[a("el-form",{ref:"create",attrs:{model:e.create,rules:e.createRule}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.create.name,callback:function(t){e.$set(e.create,"name",t)},expression:"create.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.create.days,callback:function(t){e.$set(e.create,"days",e._n(t))},expression:"create.days"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveCreateClick}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改",visible:e.showEdit},on:{"update:visible":function(t){e.showEdit=t}}},[a("el-form",{ref:"edit",attrs:{model:e.edit,rules:e.editRule}},[a("el-form-item",{attrs:{label:"编号:"}},[a("el-input",{attrs:{readonly:""},model:{value:e.edit.id,callback:function(t){e.$set(e.edit,"id",t)},expression:"edit.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.edit.name,callback:function(t){e.$set(e.edit,"name",t)},expression:"edit.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.edit.days,callback:function(t){e.$set(e.edit,"days",e._n(t))},expression:"edit.days"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveEditClick}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var c=a("vSla")(r,s,!1,function(e){a("FmgW")},null,null);t.default=c.exports}});
//# sourceMappingURL=4.feb58d3b043af4aa1619.js.map